<%- include('../partials/header') %>

    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1 class="h4 fw-bold">All Posts</h1>
        <a href="/posts/create" class="btn btn-success">+ New Post</a>
    </div>

    <ul class="list-unstyled">
        <% posts.forEach(post=> { %>
            <li class="card mb-3">
                <div class="card-body">
                    <h5 class="card-title">
                        <%= post.title %>
                    </h5>
                    <p class="card-subtitle mb-2 text-muted">
                        <%= post.published ? 'âœ… Published' : 'ðŸš§ Draft' %>
                    </p>
                    <div class="mt-2 d-flex gap-3">
                        <a href="/posts/<%= post.id %>/edit" class="text-primary text-decoration-underline">Edit</a>
                        <form method="POST" action="/posts/<%= post.id %>/delete" class="d-inline"
                            onsubmit="return confirm('Delete this post?')">
                            <button type="submit"
                                class="btn btn-link text-danger text-decoration-underline p-0">Delete</button>
                        </form>
                    </div>
                </div>
            </li>
            <% }) %>
    </ul>

    <%- include('../partials/footer') %>